<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <title>Pirate Polls: Laws and Propositions</title>
    <link href="laws-props-styles-2.css" rel="stylesheet" />
  </head>

  <body>
    <div class="container">
      <div class="header">
        <h2><a href="index.html">Pirate Polls</a></h2>
      </div>
      <div class="navbar">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About Us</a></li>
        </ul>
      </div>
      <div class="main">
        <h3>Laws and Propositions</h3>
        <p>
          There are currently 87 statewide ballot measures certified for the
          ballot for the upcoming 2024 election! Take a look below!
        </p>
        <p>Select your state to know more:</p>
        <div class="dropdown">
          <label for="state">Select your state:</label>
          <select id="state">
            <option value=""></option>
            <option value="AL">Alabama</option>
            <option value="AK">Alaska</option>
            <option value="AZ">Arizona</option>
            <option value="AR">Arkansas</option>
            <option value="CA">California</option>
            <option value="CO">Colorado</option>
            <option value="CT">Connecticut</option>
            <option value="DE">Delaware</option>
            <option value="FL">Florida</option>
            <option value="GA">Georgia</option>
            <option value="HI">Hawaii</option>
            <option value="ID">Idaho</option>
            <option value="IL">Illinois</option>
            <option value="IN">Indiana</option>
            <option value="IA">Iowa</option>
            <option value="KS">Kansas</option>
            <option value="KY">Kentucky</option>
            <option value="LA">Louisiana</option>
            <option value="ME">Maine</option>
            <option value="MD">Maryland</option>
            <option value="MA">Massachusetts</option>
            <option value="MI">Michigan</option>
            <option value="MN">Minnesota</option>
            <option value="MS">Mississippi</option>
            <option value="MO">Missouri</option>
            <option value="MT">Montana</option>
            <option value="NE">Nebraska</option>
            <option value="NV">Nevada</option>
            <option value="NH">New Hampshire</option>
            <option value="NJ">New Jersey</option>
            <option value="NM">New Mexico</option>
            <option value="NY">New York</option>
            <option value="NC">North Carolina</option>
            <option value="ND">North Dakota</option>
            <option value="OH">Ohio</option>
            <option value="OK">Oklahoma</option>
            <option value="OR">Oregon</option>
            <option value="PA">Pennsylvania</option>
            <option value="RI">Rhode Island</option>
            <option value="SC">South Carolina</option>
            <option value="SD">South Dakota</option>
            <option value="TN">Tennessee</option>
            <option value="TX">Texas</option>
            <option value="UT">Utah</option>
            <option value="VT">Vermont</option>
            <option value="VA">Virginia</option>
            <option value="WA">Washington</option>
            <option value="WV">West Virginia</option>
            <option value="WI">Wisconsin</option>
            <option value="WY">Wyoming</option>
          </select>

          <label for="county">and Select your county:</label>
          <select id="county"></select>
          <a href="laws-props-2.html" class="enterButton">Enter</a>

          <script>
            document
              .getElementById("state")
              .addEventListener("change", function () {
                const stateCode = this.value;
                console.log(stateCode);
                const countyDropdown = document.getElementById("county");
                countyDropdown.innerHTML = "";
                fetch(`https://us-counties.p.rapidapi.com/basic/${stateCode}`, {
                  method: "GET",
                  headers: {
                    "X-RapidAPI-Key":
                      "c4039c5542msh5c5adf2b1265dfep10628bjsn360b29568885",
                    "X-RapidAPI-Host": "us-counties.p.rapidapi.com",
                  },
                })
                  .then((response) => response.json())
                  .then((data) => {
                    data.forEach((county) => {
                      const option = document.createElement("option");
                      option.value = county.name;
                      option.textContent = county.name;
                      countyDropdown.appendChild(option);
                    });
                  })
                  .catch((error) =>
                    console.error("Failed to fetch counties:", error)
                  );
              });
          </script>
        </div>
      </div>
      <div class="laws-props-image">
        <img
          src="Add-ons/edited-letter-old-paper-scroll.png"
          alt="laws and propositions image"
        />
      </div>
    </div>
  </body>
</html>
