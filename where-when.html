<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <title>Pirate Polls: Where and When?</title>
    <link href="where-when-styles.css" rel="stylesheet" />
  </head>

  <body>
    <div class="container">
      <div class="header">
        <h2><a href="index.html">Pirate Polls</a></h2>
      </div>
      <div class="navbar">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About Us</a></li>
        </ul>
      </div>
      <div class="main">
        <h3>Voting: Where and When?</h3>
        <p>
          Arrr, listen up! Every matey has a say in the ship's course. Don't let
          others decide without ye! Cast yer ballot, set yer course, and let yer
          voice be heard!
        </p>
        <p>
          Find and reach out to your state or local election office for any help
          with voting.
        </p>
        <p>Select your location how to get started:</p>
        <div class="dropdown">
          <!-- Dropdown for selecting state -->
          <label for="state">Select your state:</label>
          <select id="state">
            <!-- Add all the state options here -->
            <option value=""></option>
            <option value="AL">Alabama</option>
            <option value="AK">Alaska</option>
            <option value="AZ">Arizona</option>
            <option value="AR">Arkansas</option>
            <option value="CA">California</option>
            <option value="CO">Colorado</option>
            <option value="CT">Connecticut</option>
            <option value="DE">Delaware</option>
            <option value="FL">Florida</option>
            <option value="GA">Georgia</option>
            <option value="HI">Hawaii</option>
            <option value="ID">Idaho</option>
            <option value="IL">Illinois</option>
            <option value="IN">Indiana</option>
            <option value="IA">Iowa</option>
            <option value="KS">Kansas</option>
            <option value="KY">Kentucky</option>
            <option value="LA">Louisiana</option>
            <option value="ME">Maine</option>
            <option value="MD">Maryland</option>
            <option value="MA">Massachusetts</option>
            <option value="MI">Michigan</option>
            <option value="MN">Minnesota</option>
            <option value="MS">Mississippi</option>
            <option value="MO">Missouri</option>
            <option value="MT">Montana</option>
            <option value="NE">Nebraska</option>
            <option value="NV">Nevada</option>
            <option value="NH">New Hampshire</option>
            <option value="NJ">New Jersey</option>
            <option value="NM">New Mexico</option>
            <option value="NY">New York</option>
            <option value="NC">North Carolina</option>
            <option value="ND">North Dakota</option>
            <option value="OH">Ohio</option>
            <option value="OK">Oklahoma</option>
            <option value="OR">Oregon</option>
            <option value="PA">Pennsylvania</option>
            <option value="RI">Rhode Island</option>
            <option value="SC">South Carolina</option>
            <option value="SD">South Dakota</option>
            <option value="TN">Tennessee</option>
            <option value="TX">Texas</option>
            <option value="UT">Utah</option>
            <option value="VT">Vermont</option>
            <option value="VA">Virginia</option>
            <option value="WA">Washington</option>
            <option value="WV">West Virginia</option>
            <option value="WI">Wisconsin</option>
            <option value="WY">Wyoming</option>
          </select>

          <!-- Dropdown for selecting county, initially empty -->
          <label for="county">and Select your county:</label>
          <select id="county">
            <!-- Options will be populated based on state selection -->
          </select>

          <script>
            document
              .getElementById("state")
              .addEventListener("change", function () {
                const stateCode = this.value;
                console.log(stateCode);
                const countyDropdown = document.getElementById("county");

                // Clear existing options
                countyDropdown.innerHTML = "";

                // Replace 'YOUR_RAPIDAPI_KEY' and 'YOUR_RAPIDAPI_HOST' with your actual key and host values
                // Replace 'ENDPOINT_URL' with the actual endpoint URL
                fetch(`https://us-counties.p.rapidapi.com/basic/${stateCode}`, {
                  method: "GET",
                  headers: {
                    "X-RapidAPI-Key":
                      "c4039c5542msh5c5adf2b1265dfep10628bjsn360b29568885",
                    "X-RapidAPI-Host": "us-counties.p.rapidapi.com",
                  },
                })
                  .then((response) => response.json())
                  .then((data) => {
                    // Assuming the API returns an array of county objects
                    // Replace 'county.id' and 'county.name' with the actual property names from your API response
                    data.forEach((county) => {
                      const option = document.createElement("option");
                      option.value = county.name;
                      option.textContent = county.name;
                      countyDropdown.appendChild(option);
                    });
                  })
                  .catch((error) =>
                    console.error("Failed to fetch counties:", error)
                  );
              });
          </script>
        </div>
      </div>
      <div class="where-when-image">
        <img src="Add-ons/where-when-image.png" alt="where when image" />
      </div>
    </div>
  </body>
</html>
